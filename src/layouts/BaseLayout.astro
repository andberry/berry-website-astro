---
import Header from "@components/base/Header.astro";
import Footer from "@components/base/Footer.astro";
import { pageAnimations } from "@utils/animations";
import { ClientRouter } from "astro:transitions";
import "@styles/base.css";

export interface Props {
  metaTitle: string;
}

const { metaTitle } = Astro.props;
---

<!doctype html>
<html lang="en" class="dark scroll-smooth" transition:animate={pageAnimations}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Exo+2:wght@100;200;300;400;500;700;800;900&family=JetBrains+Mono:wght@100;400&display=swap"
      rel="stylesheet"
    />
    <title>{metaTitle}</title>
    <script>
      import { handleTheme } from "../scripts/theme";
      import { setupActivePageLinksUpdate } from "../scripts/activePageLinksUpdate";
      import {
        desktopMenuAnimation,
        setupMobileMenuAnimation,
        logoAnimation,
      } from "../scripts/menuAnimation";
      handleTheme();
      setupActivePageLinksUpdate();
      desktopMenuAnimation();
      logoAnimation();
      document.addEventListener("astro:after-swap", () => {
        desktopMenuAnimation();
      });
      setupMobileMenuAnimation();
    </script>
    <ClientRouter />
  </head>
  <body class="font-exo2 font-extralight dark:bg-black dark:text-white">
    <div class="pt-20 relative">
      <a
        href="#page-content"
        class="fixed top-0 -translate-y-full focus:translate-y-0 left-1/2 -translate-x-1/2 px-4 py-2 z-[100] duration-500 ease-OutQuart transition-all"
      >
        Skip to page content
      </a>
      <Header />

      <main id="page-content">
        <slot />
      </main>

      <Footer />
    </div>
  </body>
</html>
